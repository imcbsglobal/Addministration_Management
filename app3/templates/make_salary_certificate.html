{% extends 'base.html' %}
{% block title %}Create Salary Certificate{% endblock %}
{% block header %}Create Salary Certificate{% endblock %}

{% block content %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

<style>
  table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 1rem;
  }

  th, td {
    padding: 0.75rem;
    text-align: left;
    border-bottom: 1px solid #ccc;
  }

  th {
    background-color: #f7fafc;
    color: #2f855a;
  }

  tr:hover {
    background-color: #f0fff4;
  }

  .btn {
    padding: 5px 10px;
    text-decoration: none;
    background-color: rgb(34, 216, 230);
    color: white;
    border-radius: 5px;
    margin-right: 5px;
  }

  .btn-danger {
    background-color: #e53e3e;
  }

  .btn-warning {
    background-color: rgb(247, 243, 2);
    color: black;
  }

  .top-bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
  }

  .icon-button {
    background: none;
    border: none;
    cursor: pointer;
    font-size: 1.2rem;
  }
  .icon-button i {
  font-size: 2rem;
  color: #12c202;
}

</style>

<div class="top-bar">
  <h3>Employee Salary Certificate</h3>
  <a href="{% url 'add_salary_certificate' %}" class="btn">Add New</a>
</div>

<table>
  <thead>
    <tr>
      <th>Employee Name</th>
      <th>Employee Address</th>
      <th>Joining Date</th>
      <th>Job Title</th>
      <th>Employee Salary</th>
      <th>Certificate</th>
      <th>Edit</th>
      <th>Delete</th>
    </tr>
  </thead>
  <tbody>
    {% for certificate in employees %}
    <tr>
      <td>{{ certificate.employee.name }}</td>
      <td>{{ certificate.address }}</td>
      <td>{{ certificate.joining_date }}</td>
      <td>{{ certificate.job_title }}</td>
      <td>‚Çπ{{ certificate.salary }}</td>
       <td>
  <a href="{% url 'view_salary_certificate' certificate.employee.id %}?date={{ certificate.created_at|date:'Y-m-d' }}" class="btn">View</a>
       </td>

      <td>
        <a href="{% url 'edit_salary_certificate' certificate.id %}" class="icon-button" title="Edit">
  <i class="bi bi-pencil-square"></i>
        </a>

      </td>
      <td>
        <form action="{% url 'delete_salary_certificate' certificate.id %}" method="post" onsubmit="return confirm('Are you sure you want to delete this salary certificate?')" style="display:inline;">
          {% csrf_token %}
          <button type="submit" class="icon-button" title="Delete">üóëÔ∏è</button>
        </form>
      </td>
     
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
